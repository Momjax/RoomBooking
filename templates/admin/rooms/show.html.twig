{% extends 'base.html.twig' %}
{% block title %}{{ room.nomSalle }} - Admin{% endblock %}
{% block stylesheets %}
<style>
    .room-detail { background: #1e293b; border: 1px solid #334155; border-radius: 16px; padding: 2rem; max-width: 600px; }
    .room-detail h1 { font-size: 1.5rem; margin-bottom: 1rem; }
    .info-row { display: flex; justify-content: space-between; padding: 0.8rem 0; border-bottom: 1px solid #334155; }
    .info-label { color: #94a3b8; }
    .info-value { font-weight: 600; }
    .equip-list { margin-top: 1rem; }
    .equip-tag { background: rgba(99,102,241,0.15); color: #a5b4fc; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.85rem; margin-right: 0.4rem; display: inline-block; margin-bottom: 0.4rem; }
    .btn-back { color: #94a3b8; text-decoration: none; display: inline-block; margin-top: 1.5rem; }
</style>
{% endblock %}
{% block body %}
<h1 style="margin-bottom: 2rem;">{{ room.nomSalle }}</h1>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
    <!-- Carte Capacit√© -->
    <div style="background: #1e293b; border: 1px solid #334155; border-radius: 12px; padding: 1.5rem; display: flex; flex-direction: column; align-items: center; justify-content: center;">
        <div style="color: #94a3b8; font-size: 0.9rem; margin-bottom: 0.5rem;">Capacit√©</div>
        <div style="font-size: 1.5rem; font-weight: 700;">{{ room.capacite }} √©l√®ves</div>
    </div>
    
    <!-- Carte Equipements -->
    <div style="background: #1e293b; border: 1px solid #334155; border-radius: 12px; padding: 1.5rem; position: relative;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
            <div style="font-weight: 700;">Equipements ({{ room.equipements|length }})</div>
            <a href="{{ path('app_admin_room_edit', {id: room.id}) }}" style="background: #334155; color: white; width: 24px; height: 24px; border-radius: 4px; display: flex; align-items: center; justify-content: center; text-decoration: none;">+</a>
        </div>
        {% for e in room.equipements %}
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid #334155;">
                <span style="font-size: 0.9rem;">{{ e.nomEquipement }}</span>
                <span style="cursor: pointer;">üóëÔ∏è</span>
            </div>
        {% else %}
            <div style="color: #64748b; font-size: 0.85rem;">Aucun √©quipement</div>
        {% endfor %}
    </div>
</div>

<!-- Carte R√©servations -->
<div style="background: #1e293b; border: 1px solid #334155; border-radius: 12px; padding: 1.5rem;">
    <div style="font-weight: 700; margin-bottom: 1rem;">R√©servations</div>
    <div style="max-height: 200px; overflow-y: auto; border: 1px solid #334155; border-radius: 8px;">
        {% for res in reservations %}
            <div style="padding: 0.8rem; border-bottom: 1px solid #334155;">
                <div style="font-weight: 600; font-size: 0.9rem;">{{ res.utilisateur.fullName }}</div>
                <div style="color: #94a3b8; font-size: 0.8rem;">
                    {{ res.reservationStart|date('d/m/Y') }} | {{ res.reservationStart|date('H:i') }} - {{ res.reservationEnd|date('H:i') }}
                </div>
            </div>
        {% else %}
            <div style="padding: 1rem; color: #64748b; text-align: center;">Aucune r√©servation pr√©vue</div>
        {% endfor %}
    </div>
</div>

<a href="{{ path('app_admin_rooms') }}" class="btn-back" style="display: block; margin-top: 2rem; color: #94a3b8; text-decoration: none;">‚Üê Retour aux salles</a>
{% endblock %}
